module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({onClick:a}){return(0,b.jsx)("button",{className:"btn btn--secondary",type:"button",onClick:a,children:"Change background"})}function e({reference:a,text:c}){let d=async()=>{let b=`${a}

${c}`;if(navigator.share)try{await navigator.share({title:a,text:b})}catch{}else try{await navigator.clipboard.writeText(b),alert("Versículo copiado al portapapeles")}catch(a){console.error("Error copying to clipboard:",a)}};return(0,b.jsx)("button",{className:"btn btn--primary",type:"button",onClick:d,children:"Share"})}let f=({backgroundUrl:a,reference:c,text:f,onChangeBackground:g})=>(0,b.jsxs)("section",{className:"verse-card",children:[(0,b.jsx)("div",{className:"verse-card__bg",style:{backgroundImage:`url(${a})`}}),(0,b.jsx)("div",{className:"verse-card__overlay"}),(0,b.jsxs)("div",{className:"verse-card__content",children:[(0,b.jsx)("p",{className:"verse-card__label",children:"Today's Verse"}),(0,b.jsx)("h1",{className:"verse-card__reference",children:c}),(0,b.jsx)("p",{className:"verse-card__text",children:f}),(0,b.jsxs)("div",{className:"verse-card__actions",children:[(0,b.jsx)(d,{onClick:g}),(0,b.jsx)(e,{reference:c,text:f})]})]})]});function g(){let[a,d]=(0,c.useState)(null),[e,g]=(0,c.useState)("/default-bg.jpg"),[h,i]=(0,c.useState)(!0),j=async()=>{try{i(!0);let[a,b]=await Promise.all([fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/verse/daily?language=es`),fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/image/random`)]),c=await a.json(),e=await b.json();d(c.verse),g(e.imageUrl??"/default-bg.jpg")}catch(a){console.error("Error fetching data:",a),g("/default-bg.jpg")}finally{i(!1)}},k=async()=>{try{console.log("Change background clicked");let a=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/image/random`,{cache:"no-store"});if(!a.ok){console.error("Error HTTP cambiando background:",a.status),g("/default-bg.jpg");return}let b=await a.json();console.log("Nueva imagen:",b),g(b.imageUrl??"/default-bg.jpg")}catch(a){console.error("Error changing background:",a),g("/default-bg.jpg")}window.location.reload()};return(0,c.useEffect)(()=>{j()},[]),(0,b.jsx)("main",{className:"screen",children:(0,b.jsx)("div",{className:"screen__inner",children:h||!a?(0,b.jsx)("div",{className:"screen__loader",children:"Loading verse…"}):(0,b.jsx)(f,{backgroundUrl:e,reference:a.reference,text:a.text,onChangeBackground:k})})})}a.s(["default",()=>g],40777)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5da9246e._.js.map