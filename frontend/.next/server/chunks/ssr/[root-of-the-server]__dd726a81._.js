module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},73123,a=>{"use strict";var b=a.i(57850),c=a.i(45056);function d({reference:a,text:d,imageUrl:e}){let[f,g]=(0,c.useState)(!1),h=`ðŸ“– ${a}

${d}

ðŸ™ via BiblePing`,i=async()=>{if(navigator.canShare&&navigator.canShare({files:[]}))try{let b=await fetch(e),c=await b.blob(),d=new File([c],"bibleping-verse.png",{type:c.type});await navigator.share({title:a,text:h,files:[d]});return}catch(a){console.warn("Image share failed, falling back:",a)}try{await navigator.clipboard.writeText(`${h}

${window.location.href}`),g(!0),setTimeout(()=>g(!1),2e3)}catch(a){console.error("Clipboard fallback failed:",a)}};return(0,b.jsx)("button",{type:"button",onClick:i,className:"btn btn--primary","aria-label":"Share verse",children:f?"Copied âœ“":"Share"})}function e({reference:a,text:c,backgroundUrl:e,onChangeBackground:f,onChangeVerse:g}){return(0,b.jsx)("section",{className:"verse-card",style:{backgroundImage:`url(${e})`},children:(0,b.jsxs)("div",{className:"verse-card__content",children:[(0,b.jsx)("h2",{children:a}),(0,b.jsx)("p",{children:c}),(0,b.jsxs)("div",{className:"verse-card__actions",children:[(0,b.jsx)("button",{onClick:f,children:"Change background"}),g&&(0,b.jsx)("button",{onClick:g,children:"New verse"}),(0,b.jsx)(d,{reference:a,text:c,imageUrl:e})]})]})})}let f="https://bibleping-api.up.railway.app";function g(){let[a,d]=(0,c.useState)(null),[g,h]=(0,c.useState)("/default-bg.jpg"),[i,j]=(0,c.useState)(!0),k=async()=>{try{j(!0);let[a,b]=await Promise.all([fetch(`${f}/api/verse/daily?language=en`,{cache:"no-store"}),fetch(`${f}/api/image`,{cache:"no-store"})]),c=await a.json(),e=await b.json();d(c.verse??c),h(e.imageUrl??"/default-bg.jpg")}catch(a){console.error("Error fetching data:",a),h("/default-bg.jpg")}finally{j(!1)}},l=async()=>{try{console.log("Change background clicked");let a=await fetch(`${f}/api/image`,{cache:"no-store"});if(!a.ok){console.error("Error HTTP cambiando background:",a.status),h("/default-bg.jpg");return}let b=await a.json();console.log("Nueva imagen:",b),h(b.imageUrl??"/default-bg.jpg")}catch(a){console.error("Error changing background:",a),h("/default-bg.jpg")}};return(0,c.useEffect)(()=>{k()},[]),(0,b.jsx)("main",{className:"screen",children:(0,b.jsx)("div",{className:"screen__inner",children:i||!a?(0,b.jsx)("div",{className:"screen__loader",children:"Loading verseâ€¦"}):(0,b.jsx)(e,{backgroundUrl:g,reference:a.reference,text:a.text,onChangeBackground:l})})})}a.s(["default",()=>g],73123)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dd726a81._.js.map